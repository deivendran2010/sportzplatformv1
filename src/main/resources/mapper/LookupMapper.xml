<?xml version="1.0" encoding="UTF-8" ?>
<!--
       Copyright 2015-2019 the original author or authors.
       Licensed under the Apache License, Version 2.0 (the "License");
       you may not use this file except in compliance with the License.
       You may obtain a copy of the License at
          http://www.apache.org/licenses/LICENSE-2.0
       Unless required by applicable law or agreed to in writing, software
       distributed under the License is distributed on an "AS IS" BASIS,
       WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
       See the License for the specific language governing permissions and
       limitations under the License.
-->
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.skiya.sportzplatform.mapper.LookupMapper">
    
    <select id="selectByLookupType" resultMap="lookupResultMap">
        SELECT LTA.lookup_key,LTA.lookup_type,LTA.lookup_value,LTY.lookup_desc 
		FROM lookup_table LTA, lookup_type LTY
		WHERE LTA.lookup_type = LTY.lookup_type
		AND LTA.lookup_type= #{lookupType}
		order by LTA.lookup_key ASC
    </select>
    
    <select id="selectByLookupKeyType" resultMap="lookupResultMap">
        SELECT LTA.lookup_key,LTA.lookup_type,LTA.lookup_value,LTY.lookup_desc 
		FROM lookup_table LTA, lookup_type LTY
		WHERE LTA.lookup_type = LTY.lookup_type
		AND LTA.lookup_type= #{lookupType}
		AND LTA.lookup_key = #{lookupKey}
		order by LTA.lookup_key ASC
    </select>
    
    <select id="allLookups" resultMap="lookupResultMap">
        SELECT LTA.lookup_key,LTA.lookup_type,LTA.lookup_value,LTY.lookup_desc 
		FROM lookup_table LTA, lookup_type LTY
		WHERE LTA.lookup_type = LTY.lookup_type
		ORDER BY LTA.lookup_type,LTA.lookup_key ASC
      
    </select>
    
    <insert id="addLookup">
    INSERT INTO LOOKUP_TABLE(LOOKUP_KEY,LOOKUP_VALUE,LOOKUP_TYPE)
    VALUES(#{lookupKey},#{lookupValue},#{lookupType})
    
    </insert>
    
    <update id="updateLookup">
  		update lookup_table set
    	lookup_value = #{lookupValue}
  		where lookup_key = #{lookupKey} and lookup_type = #{lookupType}
	</update>
	
	<delete id="deleteLookup">
  		delete from lookup_table where lookup_key = #{lookupKey} and lookup_type = #{lookupType}
	</delete>
	
	<resultMap id="lookupResultMap" type="Lookup">
  		<result property="lookupKey" column="lookup_key"/>
  		<result property="lookupValue" column="lookup_value"/>
  		<result property="lookupType" column="lookup_type"/>
  		<result property="lookupTypeDesc" column="lookup_desc"/>
 	</resultMap>
</mapper>